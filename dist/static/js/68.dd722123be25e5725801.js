webpackJsonp([68],{PIeK:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"新增","close-on-click-modal":!1,visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"120px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.dataFormSubmit()}}},[a("el-form-item",{attrs:{label:"当前状态",prop:"bizCurrFollowUpStatusDictId"}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:t.dataForm.bizCurrFollowUpStatusDictId,callback:function(e){t.$set(t.dataForm,"bizCurrFollowUpStatusDictId",e)},expression:"dataForm.bizCurrFollowUpStatusDictId"}},t._l(t.fpss,function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})}))],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),t.isAuth("biz:infodetail:update")?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dataFormSubmit()}}},[t._v("确定")]):t._e()],1)],1)},staticRenderFns:[]},o=a("vSla")({data:function(){return{visible:!1,dataForm:{bizInfoId:"",bizCurrFollowUpStatusDictId:""},fpss:[],dataRule:{bizCurrFollowUpStatusDictId:[{required:!0,message:"参数值不能为空",trigger:"blur"}]}}},methods:{init:function(t,e){var a=this;this.dataForm.bizInfoId=t,this.dataForm.bizCurrFollowUpStatusDictId=e,this.visible=!0,this.$nextTick(function(){a.$refs.dataForm.resetFields(),a.getFpsOptions()})},getFpsOptions:function(){var t=this;this.$http({url:this.$http.adornUrl("/biz/info/allfps"),method:"post"}).then(function(e){var a=e.data;a&&200===a.code&&a.data?t.fpss=a.data:t.fpss=[]})},dataFormSubmit:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&t.$http({url:t.$http.adornUrl("/biz/infodetail/updatestatus/"+t.dataForm.bizInfoId+"/"+t.dataForm.bizCurrFollowUpStatusDictId),method:"post",data:t.$http.adornData({})}).then(function(e){var a=e.data;a&&200===a.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.visible=!1,t.$emit("refreshDataList")}}):t.$message.error(a.msg)})})}}},i,!1,null,null,null);e.default=o.exports}});